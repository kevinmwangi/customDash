<html lang="en-gb">
<head>
<title>Reactive Dash: Home</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

    <!-- <meta name="viewport" content="width=device-width,initial-scale=1.0" /> -->
    
    <!--[if lt IE 9]> <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script> <![endif]-->
    <!--[if gte IE 9]> <style type="text/css"> .gradient { filter: none;  } </style> <![endif]-->
    
    <!-- <link rel="stylesheet" type="text/css" media="screen, projection" href="./css/960_16_col.css" /> -->
    <link rel="stylesheet" type="text/css" media="screen, projection" href="./css/layout.css"/>
<!--    <link rel="stylesheet" type="text/css" media="screen, projection" href="./css/gumby.css"/>-->
    <link rel="stylesheet" type="text/css" media="screen, projection" href="./css/html5Reset.css"/>
    
  	<!-- <script type="text/javascript" src="js/jquery.min.js"></script> -->
  	<!-- <script>!window.jQuery && document.write(unescape('%3Cscript src="js/minified/jquery-1.10.2.min.js"%3E%3C/script%3E'))</script> -->
<!--    <script type="text/javascript" src="lib/jquery-1.10.2.min.js"></script>-->
    <!-- <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.min.js"></script> -->
<!--    <script type="text/javascript" src="lib/modernizr.js"></script>-->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>	-->
<!--
<script type="text/javascript">
$(function () {

    var gaugeOptions = {

        chart: {
            type: 'solidgauge'
        },

        title: null,

        pane: {
            center: ['50%', '85%'],
            size: '100%',
            startAngle: -90,
            endAngle: 90,
            background: {
                backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || '#EEE',
                innerRadius: '40%',
                outerRadius: '100%',
                shape: 'arc'
            }
        },

        tooltip: {
            enabled: false
        },

        // the value axis
        yAxis: {
            stops: [
                //[0.1, '#55BF3B'], // green
                //[0.5, '#DDDF0D'], // yellow
                [0.9, '#DF5353'] // red
            ],
            lineWidth: 0,
            minorTickInterval: null,
            tickPixelInterval: 400,
            tickWidth: 0,
            title: {
                y: -70
            },
            labels: {
                y: 16
            }
        },

        plotOptions: {
            solidgauge: {
                dataLabels: {
                    y: 5,
                    borderWidth: 0,
                    useHTML: true
                }
            }
        }
    };

    // The speed gauge
    $('#container-speed').highcharts(Highcharts.merge(gaugeOptions, {
        yAxis: {
            min: 0,
            max: 200,
            title: {
                text: 'Speed'
            }
        },

        credits: {
            enabled: false
        },

        series: [{
            name: 'Speed',
            data: [80],
            dataLabels: {
                format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                    ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') + '">{y}</span><br/>' +
                       '<span style="font-size:12px;color:silver">km/h</span></div>'
            },
            tooltip: {
                valueSuffix: ' km/h'
            }
        }]

    }));

    // The RPM gauge
    $('#container-rpm').highcharts(Highcharts.merge(gaugeOptions, {
        yAxis: {
            min: 0,
            max: 5,
            title: {
                text: 'RPM'
            }
        },

        series: [{
            name: 'RPM',
            data: [1],
            dataLabels: {
                format: '<div style="text-align:center"><span style="font-size:25px;color:' +
                    ((Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black') + '">{y:.1f}</span><br/>' +
                       '<span style="font-size:12px;color:silver">* 1000 / min</span></div>'
            },
            tooltip: {
                valueSuffix: ' revolutions/min'
            }
        }]

    }));

    // Bring life to the dials
    setInterval(function () {
        // Speed
        var chart = $('#container-speed').highcharts(),
            point,
            newVal,
            inc;

        if (chart) {
            point = chart.series[0].points[0];
            inc = Math.round((Math.random() - 0.5) * 100);
            newVal = point.y + inc;

            if (newVal < 0 || newVal > 200) {
                newVal = point.y - inc;
            }

            point.update(newVal);
        }

        // RPM
        chart = $('#container-rpm').highcharts();
        if (chart) {
            point = chart.series[0].points[0];
            inc = Math.random() - 0.5;
            newVal = point.y + inc;

            if (newVal < 0 || newVal > 5) {
                newVal = point.y - inc;
            }

            point.update(newVal);
        }
    }, 2000);


});
</script>
<script type="text/javascript" src="js/highcharts.js"></script>
<script type="text/javascript" src="js/highcharts-more.js"></script>
<script type="text/javascript" src="js/modules/solid-gauge.src.js"></script>
-->

  
</head>
<body>
  <div class="container">
    <div class="aside columns">
      <div class="logo"><a href="#"><img src="images/logo.png"></a></div>
      <div class="loginStatus">
        <a href="#"><img src="images/userimage.jpg"></a>
        <ul class="accountName">
          <li>John Doe</li>
          <li>administrator</li>
        </ul>
      </div> <!-- loginStatus ends -->

      <div class="SideNav">
        <ul>
          <li>link</li>
          <li>link</li>
          <li>link</li>
          <li>link</li>
          <li>link</li>
          <li>link</li>
          <li>link</li>
          <li>link</li>
        </ul>
      </div>
    </div> <!-- aside ends -->
    <div class="content columns">
      <div class="topNav">

        <div class="menuButton"><a href="#"></a></div>
        <div class="search">
            <fieldset>
                <legend>Upload your CSV File</legend>
                <input type="file" id="csvFileInput" onchange="handleFiles(this.files)"
          accept=".csv">
            </fieldset>
        </div>
        <div class="notifications"></div>
        <div class="userDetails"></div>
        <div class="chats"></div>

      </div> <!-- topNav Ends Here -->

      <div id="DashboardInfo" class="dashboardInfo">

        <div class="dashboardName">Analytics</div>
        <div class="timeDate">
          <div class="Date"></div>
          <div class="time"></div>
        </div>

      </div> <!-- DashboardInfo Ends here -->

      <div id="DraggableArea" class="LayoutArea clearfix">
        <div id="container-speed" class="draggableElement"></div>
        <div id="container-rpmb" class="draggableElement"></div>
        <div class="draggableElement"></div>
        <div class="draggableElement"></div>
      </div>
        <div id="outputTable" class="outputTable">
            
        </div>

    </div> <!-- content Ends Here -->
  </div>
	
<script type="text/javascript" data-main="app.js" src="lib/bower-components/requirejs/require.js"></script>
<!--
    <script type="text/javascript">
        function handleFiles(files) {
            // Check for the various File API support.
            if (window.FileReader) {
                // FileReader are supported.
                getAsText(files[0]);
            } else {
                alert('FileReader are not supported in this browser.');
            }
        }

        function getAsText(fileToRead) {
            var reader = new FileReader();
            // Handle errors load
            reader.onload = loadHandler;
            reader.onerror = errorHandler;
            // Read file into memory as UTF-8      
            reader.readAsText(fileToRead);
        }

        function loadHandler(event) {
            var csv = event.target.result;
            processData(csv);             
        }

        function processData(csv) {
            var allTextLines = csv.split(/\r\n|\n/);
            var lines = [];
            while (allTextLines.length) {
                lines.push(allTextLines.shift().split(','));
            }
            console.log(lines);
            drawOutput(lines);
        }

        function errorHandler(evt) {
            if(evt.target.error.name == "NotReadableError") {
                alert("Canno't read file !");
            }
        }

        function drawOutput(lines){
            //Clear previous data
            document.getElementById("outputTable").innerHTML = "";
            //var table = document.createElement("table");
            var table = document.createElement("div");
            table.id = 'GridTable';
            table.className = 'GridTable';
            for (var i = 0; i < lines.length; i++) {
                var ul = document.createElement("ul");
                table.appendChild(ul);
                //var ul = table.createElement("ul");
                //var data = table.appendChild(ul);
                //var row = table.insertRow(-1);
                for (var j = 0; j < lines[i].length; j++) {
                    var li = document.createElement("li");
                    ul.appendChild(li);
                    //var firstNameCell = row.insertCell(-1);
                    li.appendChild(document.createTextNode(lines[i][j]));
                }
            }
            
            document.getElementById("outputTable").appendChild(table);
        }
		
		
		jQuery(document).ready(function(){
			getAsText(fileToRead);
		});

    </script>
-->
</body>
</html>